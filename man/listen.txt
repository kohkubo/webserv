LISTEN(2)                      System Calls Manual                     LISTEN(2)

NAME
     listen – listen for connections on a socket

SYNOPSIS
     #include <sys/socket.h>

     int listen(int socket, int backlog);

DESCRIPTION
Creation of socket-based connections requires several operations.
ソケットベースの接続の作成には、いくつかの操作が必要です。

First, a socket is created with socket(2).
まず、ソケット（2）でソケットが作成されます。

Next, a willingness to accept incoming connections and a queue limit for incoming connections are specified with listen().
次に、着信接続を受け入れる意欲と着信接続のキュー制限がlisten（）で指定されます。

Finally, the connections are accepted with accept(2).
最後に、接続はACCEPT（2）で受け入れられます。

The listen() call applies only to sockets of type SOCK_STREAM.
listen（）呼び出しは、sock_stream型のソケットにのみ適用されます。

The backlog parameter defines the maximum length for the queue of pending connections.

If a connection request arrives with the queue full, the client may receive an error with an indication of ECONNREFUSED.
接続要求がキューをフルで到着すると、クライアントはEconnRefusedの表示でエラーを受け取ることができます。
Alternatively, if the underlying protocol supports retransmission, the request may be ignored so that retries may succeed.
あるいは、基礎となるプロトコルが再送信をサポートしている場合、リトライが成功する可能性があるように、要求は無視されてもよい。

RETURN VALUES
The listen() function returns the value 0 if successful;
otherwise the value -1 is returned and the global variable errno is set to indicate the error.

ERRORS
     listen() will fail if:

     [EACCES]           The current process has insufficient privileges.

     [EBADF]            The argument socket is not a valid file descriptor.

     [EDESTADDRREQ]     The socket is not bound to a local address and the
                        protocol does not support listening on an unbound
                        socket.

     [EINVAL]           socket is already connected.

     [ENOTSOCK]         The argument socket does not reference a socket.

     [EOPNOTSUPP]       The socket is not of a type that supports the operation
                        listen().

SEE ALSO
     accept(2), connect(2), connectx(2), socket(2)

BUGS
     The backlog is currently limited (silently) to 128.

HISTORY
     The listen() function call appeared in 4.2BSD.

BSD 4.2                          March 18, 2015                          BSD 4.2

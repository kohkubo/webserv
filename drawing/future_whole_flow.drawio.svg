<svg host="65bd71144e" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1542px" height="882px" viewBox="-0.5 -0.5 1542 882" content="&lt;mxfile&gt;&lt;diagram id=&quot;z_SM6wTG17ggvH_opuEj&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);">
    <defs/>
    <g>
        <path d="M 274.51 228.5 L 274.51 244.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 274.51 249.88 L 271.01 242.88 L 274.51 244.63 L 278.01 242.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="143.89" y="128.5" width="261.24" height="100" rx="7" ry="7" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 259px; height: 1px; padding-top: 179px; margin-left: 145px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                listen_fds 作成
                                <br/>
                                <br/>
                                ServerConfigのhost:portに対応したlistenソケットを開く。
                                <br/>
                                listenソケットをkeyにしたServerConfigのmapsocket_listを作成。
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="275" y="182" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    listen_fds 作成...
                </text>
            </switch>
        </g>
        <path d="M 274.51 71 L 274.51 122.13" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 274.51 127.38 L 271.01 120.38 L 274.51 122.13 L 278.01 120.38 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="202.63" y="1" width="143.75" height="70" rx="7" ry="7" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 142px; height: 1px; padding-top: 36px; margin-left: 204px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                configファイル読み込み
                                <br/>
                                <br/>
                                パースしたServerConfigのvectorを作成。
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="275" y="40" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    configファイル読み込み...
                </text>
            </switch>
        </g>
        <path d="M 274.51 311 L 274.51 344.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 274.51 349.88 L 271.01 342.88 L 274.51 344.63 L 278.01 342.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="214.51" y="251" width="120" height="60" rx="9" ry="9" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 281px; margin-left: 216px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                listen_event()
                                <br/>
                                <br/>
                                IOイベントループ
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="275" y="285" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    listen_event()...
                </text>
            </switch>
        </g>
        <path d="M 274.51 481 L 274.51 534.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 274.51 539.88 L 271.01 532.88 L 274.51 534.63 L 278.01 532.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="138.58" y="351" width="271.86" height="130" rx="19.5" ry="19.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 270px; height: 1px; padding-top: 416px; margin-left: 140px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                polling_fdプール作成
                                <br/>
                                <br/>
                                select, poll等で監視するfdのプールを作成する。
                                <br/>
                                listenソケット、Connection、レスポンス等
                                <br/>
                                （レスポンスについてはConnectionで読み込み、書き込みを両方持つ構造のほうがいいかも。）
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="275" y="420" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    polling_fdプール作成...
                </text>
            </switch>
        </g>
        <path d="M 193.57 603.74 L 117 603.97 Q 107 604 107 594 L 107 451 Q 107 441 107 431 L 107 291 Q 107 281 117 281 L 208.14 281" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 213.39 281 L 206.39 284.5 L 208.14 281 L 206.39 277.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 531px; margin-left: 107px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                <font style="font-size: 12px">
                                    <font style="font-size: 13px">
                                        False
                                        <br/>
                                    </font>
                                    読み書きできる状態のfdは一つもない。
                                    <br/>
                                    再度、fdプールの作成、pollingへ。
                                    <br/>
                                </font>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="107" y="534" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    False...
                </text>
            </switch>
        </g>
        <path d="M 274.51 666 L 274.51 774.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 274.51 779.88 L 271.01 772.88 L 274.51 774.63 L 278.01 772.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 724px; margin-left: 275px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                True
                                <br/>
                                <font style="font-size: 12px">
                                    読み書きできる状態のfdが一つ以上ある。
                                </font>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="275" y="728" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    True...
                </text>
            </switch>
        </g>
        <path d="M 233.88 572.25 L 266.58 547.1 Q 274.51 541 282.43 547.1 L 347.82 597.4 Q 355.75 603.5 347.82 609.6 L 282.43 659.9 Q 274.51 666 266.58 659.9 L 201.19 609.6 Q 193.26 603.5 201.19 597.4 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 160px; height: 1px; padding-top: 604px; margin-left: 194px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Polling
                                <br/>
                                <br/>
                                読み書きできる
                                <br/>
                                状態のfdを検査
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="275" y="607" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Polling...
                </text>
            </switch>
        </g>
        <path d="M 351.38 831 L 512 831 Q 522 831 522 821 L 522 587.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 522 582.12 L 525.5 589.12 L 522 587.37 L 518.5 589.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 771px; margin-left: 522px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                Listenソケット
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="522" y="774" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Listenソケット
                </text>
            </switch>
        </g>
        <path d="M 351.38 831 L 887 831 Q 897 831 897 821 L 897 752.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 897 747.12 L 900.5 754.12 L 897 752.37 L 893.5 754.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 801px; margin-left: 897px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                TCP Connection
                                <br/>
                                読み取り側
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="897" y="804" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    TCP Connection...
                </text>
            </switch>
        </g>
        <path d="M 351.38 831 L 682 831 Q 692 831 692 821 L 692 707.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 692 702.12 L 695.5 709.12 L 692 707.37 L 688.5 709.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 761px; margin-left: 692px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                TCP Connection
                                <br/>
                                書き込み側
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="692" y="765" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    TCP Connection...
                </text>
            </switch>
        </g>
        <path d="M 236.07 806 L 266.13 786.45 Q 274.51 781 282.89 786.45 L 343 825.55 Q 351.38 831 343 836.45 L 282.89 875.55 Q 274.51 881 266.13 875.55 L 206.02 836.45 Q 197.64 831 206.02 825.55 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 152px; height: 1px; padding-top: 831px; margin-left: 199px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                読み書きできる
                                <br/>
                                状態のfdが…
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="275" y="835" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    読み書きできる
状態のfdが…
                </text>
            </switch>
        </g>
        <path d="M 522 491 L 522 291 Q 522 281 512 281 L 340.88 281" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 335.63 281 L 342.63 277.5 L 340.88 281 L 342.63 284.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="427" y="491" width="190" height="90" rx="13.5" ry="13.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 536px; margin-left: 428px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                TCPコネクションを確立。
                                <br/>
                                システムから受けとったfdを、Connectionリストに追加
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="522" y="540" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    TCPコネクションを確立。...
                </text>
            </switch>
        </g>
        <path d="M 897 646 L 897 552.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 897 547.12 L 900.5 554.12 L 897 552.37 L 893.5 554.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="817" y="646" width="160" height="100" rx="15" ry="15" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 696px; margin-left: 818px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Clientからのデータがあると考えられる。
                                <br/>
                                recv()でデータを受信
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="897" y="700" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Clientからのデータがあると考えられる。...
                </text>
            </switch>
        </g>
        <path d="M 897 406 L 897 291 Q 897 281 887 281 L 340.88 281" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 335.63 281 L 342.63 277.5 L 340.88 281 L 342.63 284.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 341px; margin-left: 897px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                False
                                <br/>
                                まだ受信するデータがありそう。
                                <br/>
                                タイムアウトまで？繰り返しpollingし、
                                <br/>
                                データの受信を待つ。
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="897" y="345" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    False...
                </text>
            </switch>
        </g>
        <path d="M 987 476 L 1140.63 476" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1145.88 476 L 1138.88 479.5 L 1140.63 476 L 1138.88 472.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 436px; margin-left: 1067px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                bodyの読み取り中でない
                                <br/>
                                &amp;&amp;
                                <br/>
                                ヘッダーの区切り文字を確認できた。
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1067" y="440" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    bodyの読み取り中でない...
                </text>
            </switch>
        </g>
        <path d="M 942 511 L 1127.72 622.72" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1132.22 625.42 L 1124.42 624.81 L 1127.72 622.72 L 1128.03 618.82 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 567px; margin-left: 1056px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                bodyの読み取り中
                                <br/>
                                &amp;&amp;
                                <br/>
                                指定された長さのBodyを読み取れた。
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1056" y="570" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    bodyの読み取り中...
                </text>
            </switch>
        </g>
        <path d="M 852 441 L 889.11 412.14 Q 897 406 904.89 412.14 L 979.11 469.86 Q 987 476 979.11 482.14 L 904.89 539.86 Q 897 546 889.11 539.86 L 814.89 482.14 Q 807 476 814.89 469.86 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 476px; margin-left: 808px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                受信したデータを加えた
                                <br/>
                                Connectionの状態を確認。
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="897" y="480" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    受信したデータを加えた
Connectionの状態を確認。
                </text>
            </switch>
        </g>
        <path d="M 1245.65 401.64 L 1246.89 291 Q 1247 281 1237 281 L 340.88 281" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 335.63 281 L 342.63 277.5 L 340.88 281 L 342.63 284.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 328px; margin-left: 1246px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                True
                                <br/>
                                bodyの受信が必要。
                                <br/>
                                指定された長さのbodyを受信するまでloop
                                <br/>
                                （このときConnectionにはbodyの読み取り中のフラグが必要？）
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1246" y="332" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    True...
                </text>
            </switch>
        </g>
        <path d="M 1244.82 551 L 1244.82 619.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1244.82 624.88 L 1241.32 617.88 L 1244.82 619.63 L 1248.32 617.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 586px; margin-left: 1245px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                False
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1245" y="590" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    False
                </text>
            </switch>
        </g>
        <path d="M 1195.91 438.5 L 1236.88 407.08 Q 1244.82 401 1252.75 407.08 L 1334.69 469.92 Q 1342.63 476 1334.69 482.08 L 1252.75 544.92 Q 1244.82 551 1236.88 544.92 L 1154.94 482.08 Q 1147 476 1154.94 469.92 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 194px; height: 1px; padding-top: 476px; margin-left: 1148px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                パースしたヘッダーに
                                <br/>
                                Content-Length等の
                                <br/>
                                bodyの存在を示す
                                <br/>
                                フィールドがあるか
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1245" y="480" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    パースしたヘッダーにContent-Length等の...
                </text>
            </switch>
        </g>
        <path d="M 1356.45 686 L 1467 686 Q 1477 686 1477 676 L 1477 291 Q 1477 281 1467 281 L 340.88 281" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 335.63 281 L 342.63 277.5 L 340.88 281 L 342.63 284.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 492px; margin-left: 1457px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                生成したレスポンスを
                                <br/>
                                書き込み待ちのキューに追加
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1457" y="495" fill="#000000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    生成したレスポンスを
書き込み待ちのキューに追加
                </text>
            </switch>
        </g>
        <rect x="1133.18" y="626" width="223.27" height="120" rx="18" ry="18" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 221px; height: 1px; padding-top: 686px; margin-left: 1134px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                リクエストの受信完了
                                <br/>
                                パースしたヘッダー、bodyをもとに
                                <br/>
                                レスポンスを作成。
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1245" y="690" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    リクエストの受信完了パースしたヘッダー、bodyをもとに...
                </text>
            </switch>
        </g>
        <path d="M 692 601 L 692 291 Q 692 281 682 281 L 340.88 281" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 335.63 281 L 342.63 277.5 L 340.88 281 L 342.63 284.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="607" y="601" width="170" height="100" rx="15" ry="15" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-width="2" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 651px; margin-left: 608px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                データを送信する。
                                <br/>
                                この時、リクエストのConnectionにCloseが指定されていた時、コネクションを閉じる。
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="692" y="655" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    データを送信する。
この時、リクエストのConnectionにCloseが指定されていた時、コネクションを閉じる。
                </text>
            </switch>
        </g>
    </g>
    <switch>
        <g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/>
        <a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank">
            <text text-anchor="middle" font-size="10px" x="50%" y="100%">
                Viewer does not support full SVG 1.1
            </text>
        </a>
    </switch>
</svg>